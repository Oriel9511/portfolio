---
import TeamIcon from "../icons/TeamIcon.astro";
import BusinessIcon from "../icons/BusinessIcon.astro";
import ExclamationIcon from "../icons/ExclamationIcon.astro";
import BookIcon from "../icons/BookIcon.astro";
import TalkIcon from "../icons/TalkIcon.astro";
import BulbIcon from "../icons/BulbIcon.astro";
import FLuentIcon from "../icons/FLuentIcon.astro"

// Array de fortalezas
const strengths = [
    {
        id: 'teamwork',
        title: { en: 'Teamwork', es: 'Trabajo en Equipo' },
        description: { 
            en: 'Collaborative spirit and ability to work effectively with others to achieve common goals.',
            es: 'Espíritu colaborativo y capacidad para trabajar eficazmente con otros para lograr objetivos comunes.'
        },
        icon: TeamIcon,
        class: ''
    },
    {
        id: 'commitment',
        title: { en: 'Commitment', es: 'Compromiso' },
        description: { 
            en: 'Dedication and reliability in completing tasks and honoring commitments.',
            es: 'Dedicación y confiabilidad para completar tareas y cumplir compromisos.'
        },
        icon: BusinessIcon,
        class: 'text-sky-400'
    },
    {
        id: 'initiative',
        title: { en: 'Proactiveness', es: 'Proactividad' },
        description: { 
            en: 'Proactively seeking opportunities and taking action without waiting for direction.',
            es: 'Búsqueda proactiva de oportunidades y toma de acción sin esperar dirección.'
        },
        icon: ExclamationIcon,
        class: ''
    },
    {
        id: 'learning',
        title: { en: 'Fast Learner', es: 'Aprendizaje Rápido' },
        description: { 
            en: 'Ability to rapidly grasp new concepts and adapt to new environments.',
            es: 'Capacidad para comprender rápidamente nuevos conceptos y adaptarse a nuevos entornos.'
        },
        icon: BookIcon,
        class: ''
    },
    {
        id: 'communication',
        title: { en: 'Effective Communication (English and Spanish)', es: 'Comunicación Efectiva (Inglés y Español)' },
        description: { 
            en: 'Proficient in expressing ideas and information clearly in both languages.',
            es: 'Competente en expresar ideas e información claramente en ambos idiomas.'
        },
        icon: TalkIcon,
        class: 'text-red-400'
    },
    {
        id: 'problemSolving',
        title: { en: 'Problem-Solving', es: 'Resolución de Problemas' },
        description: { 
            en: 'Skilled at identifying issues and developing effective solutions.',
            es: 'Hábil en identificar problemas y desarrollar soluciones efectivas.'
        },
        icon: BulbIcon,
        class: 'text-yellow-400'
    },
    {
        id: 'adaptability',
        title: { en: 'Adaptability', es: 'Adaptabilidad' },
        description: { 
            en: 'Flexible and open to change, able to adjust to new challenges and circumstances.',
            es: 'Flexible y abierto al cambio, capaz de ajustarse a nuevos desafíos y circunstancias.'
        },
        icon: FLuentIcon,
        class: 'text-purple-400'
    }
];
---

<div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4" id="core-strengths-grid">
    {strengths.map(strength => (
            <article class="border border-white/10 rounded-lg p-4 w-full flex flex-col gap-y-3 backdrop-blur-sm strength-item"
                data-title-en={strength.title.en}
                data-title-es={strength.title.es}
                data-description-en={strength.description.en}
                data-description-es={strength.description.es}
            >
                <h3 class="text-lg sm:text-xl lg:text-2xl font-semibold flex items-center gap-x-2">
                    {strength.icon && <strength.icon class={`${strength.class} w-5 h-5 sm:w-6 sm:h-6`}/>} 
                    <span class="strength-title">{strength.title.en}</span>
                </h3>
                <p class="mb-4 font-normal text-sm sm:text-base lg:text-lg text-gray-400 strength-description">
                    {strength.description.en}
                </p>
            </article>
    ))}
</div>

<script>
    import { currentLanguage } from '../../i18n/languageStore';
    
    function updateStrengthsContent() {
        const lang = currentLanguage.get();
        const strengthItems = document.querySelectorAll('.strength-item');
        
        strengthItems.forEach(item => {
            const titleEl = item.querySelector('.strength-title');
            const descEl = item.querySelector('.strength-description');
            
            if (titleEl) {
                const title = item.getAttribute(`data-title-${lang}`);
                if (title) titleEl.textContent = title;
            }
            
            if (descEl) {
                const desc = item.getAttribute(`data-description-${lang}`);
                if (desc) descEl.textContent = desc;
            }
        });
    }
    
    // Update on language change
    currentLanguage.subscribe(updateStrengthsContent);
    
    // Initial update
    document.addEventListener('DOMContentLoaded', updateStrengthsContent);
</script>
